<div class="p-4">
  <p class="h1">
    Your Cart
  </p>
</div>

<div class="p-0 m-0" *ngIf="CartedItem.length > 0">
<div class="row  w-100 justify-content-between">
  <div class=" col-md-11 col-lg-7 m-4">
    <!-- table -->
    <table class="table  table-striped" id="allProductTable" aria-describedby="allProductTable_info">
      <thead class="table-light">
        <tr>
          <th scope="col">
          </th>
          <th scope="col">Product</th>
          <th scope="col">Price</th>
          <th scope="col">Quantity </th>
          <th scope="col">Total</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <tr *ngFor="let item of CartedItem">
          <td scope="row">
          </td>
          <td class="p-3">
            <div class="d-flex flex-row justify-content-around ">
              <img [src]="url+item.productImgUrl" class=" rounded product_img">
              <div class="h4 ms-2">
                <a class="text-decoration-none text-black">
                  {{item.productName}}
                </a>
              </div>
            </div>
          </td>
          <td class="px-1 py-3">
            {{item.originalPrice | currency}}
          </td>
          <td>
            <div class="text-center px-3 py-2 h-100 d-flex align-items-center justify-content-between ">
              <span class="text-black btn btn-sm me-2" (click)="minqty(item.id)"> <i class="fa-solid fa-minus"></i>
              </span>
              <input type="text" class="form-control bg-white" name="" min="1" [max]="item.originalStock"
                value="{{item.quantaty}}" id="">
              <span class="text-black btn btn-sm ms-2" (click)="addQty(item.id)"> <i class="fa-solid fa-plus"></i>
              </span>

            </div>
          </td>
          <td class="px-1 py-3">

            <!-- {{item.subPrice * quantity.value}}$ -->
            {{item.subPrice}}

          </td>

          <td class="p-3">
            <div class="btn-box d-flex flex-row justify-content-between">

              <div class="btn  ms-1 bg-danger cancel">
                <button (click)="removeItem(item.id!)">
                  <i class="fa-regular fa-trash-can"></i>
                </button>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- table -->
  </div>
  <!-- form -->

  <div class=" form   rounded p-3 m-3 m-x2 row col-lg-4 col-md-11 bg-white">
    <form>
      <div>
        <P class="h2">
          Summary

        </P>
      </div>
      <div class="d-flex flex-row w-100 mt-2 justify-content-between mb-2">
        <div class="h3">
          <P>
            Total
          </P>
        </div>
        <div class=" h3">
          <P>
            {{totalPrice |currency}}
          </P>
        </div>
      </div>
      <div class="d-flex flex-row w-100 mt-2 justify-content-between mb-2">
        <div class="h4">
          <P>
            Reward Points
          </P>
        </div>
        <div class=" h4">
          <P>
            {{TotalPoints | currency:'Points ':'code'}}
          </P>
        </div>
      </div>

      <!-- <div class="d-flex flex-row w-100  justify-content-between mb-4">
        <div>
          <input class="form-check-input" type="radio" name="shipping" id="shipping1" value="option1" checked>
          <label class="form-check-label" for="shipping1">
            Pay By Cash
          </label>
        </div>
        <p>
          {{totalPrice}}$
        </p>
      </div> -->
      <!-- <div class="d-flex flex-row w-100  justify-content-between mb-4">
        <div>
          <input class="form-check-input" type="radio" name="shipping" id="shipping2" value="option2">
          <label class="form-check-label" for="shipping2">
            Pay By Point
          </label>
        </div>
        <p>
          {{totalPrice}}
        </p>
      </div> -->


      <button class="btn w-100 p-2 mb-3 " [routerLink]="['/user/checkout']">
        Go to checkout
      </button>
    </form>
  </div>
  <!-- form -->

</div>
</div>

<div class="container">
  <app-u-empty [visible]="CartedItem.length <= 0 || CartedItem == null"
                [notFoundText]="'Your cart is empty'"
                [resetLinkText]="'Shop now'"
                [resetLinkRoute]="'/user/shop'"
  ></app-u-empty>
</div>

